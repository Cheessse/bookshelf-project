import"./assets/shopping-list-967760b2.js";import{a as i,P as u}from"./assets/vendor-92587dd7.js";async function m(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await i.get(t,{options:o})).data}async function y(t){const o="https://books-backend.p.goit.global/books/category",e={method:"GET",params:{category:t}};return(await i.get(o,{options:e})).data}async function b(){const t="https://books-backend.p.goit.global/books/top-books",o={method:"GET"};return(await i.get(t,{options:o})).data}const l=document.querySelector(".books-container"),c=document.querySelector(".container-title"),a=document.querySelector(".container-category");function k({book_image:t,title:o,author:e}){return`<ul class="book-div">
 <li class="book-img"><img src="${t}" alt=""></li>
 <li class="book-title">${o}</li>
 <li class="author">${e}</li>
</ul>`}function d(t){return t.map(k).join("")}function f({books:t,list_name:o}){const e=d(t);c.textContent="Best Sellers Books",a.textContent=`'${o}'`,c.insertAdjacentHTML("afterbegin",c.textContent),a.insertAdjacentHTML("afterbegin",a.textContent),l.insertAdjacentHTML("beforeend",e)}function h({books:t,list_name:o}){const e=d(t);c.textContent=`'${o}'`,c.insertAdjacentHTML("afterbegin",c.textContent),l.insertAdjacentHTML("beforeend",e)}const C=categoryBlock.querySelectorAll("#p-list");async function L(t){t.preventDefault();let o=C.textContent;try{const e=await y(),n=await b();e.target.list_name===o?h(e):f(n)}catch(e){console.log(e)}}document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),m().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.id="p-list",s.addEventListener("click",L),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)})};function g(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,p=e.slice(n,s);document.getElementById("shopping-list").innerHTML=p.join("<br>")}const r=3,T=new u(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:r,visiblePages:5,centerAlign:!0});T.on("beforeMove",function(t){g(t.page,r)});g(1,r);window.onscroll=function(){B()};function B(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
