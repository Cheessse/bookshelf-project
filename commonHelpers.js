import"./assets/modal-window-fc13a603.js";import{a as d,P as y}from"./assets/vendor-2eb9cd29.js";const i=document.querySelector(".books-container-one-cat"),r=document.querySelector(".book-item");document.querySelector("#btn-seemore");document.querySelector(".container-category-one");let c=5;async function h(t){const o="https://books-backend.p.goit.global/books/category",e=encodeURIComponent(t),n=`${o}?category=${e}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await d.get(n,s)).data}async function k(t,o){const e="https://books-backend.p.goit.global/books/top-books",n=encodeURIComponent(t),s=t?`${e}?category=${n}`:e,a={method:"GET",headers:{"Content-Type":"application/json"}};return o==="mobile"?c=1:o==="tablet"&&(c=3),(await d.get(s,a)).data.slice(0,c)}function b(t){return` <li class="book-item-img"><img src="${t.book_image}" alt="${t.description}" srcset="${t.book_image}" width="335" height="485" class="book-image">
  </li>
    <li class="book-item-title">${t.title}</li>
    <li class="book-item-author">${t.author}</li>
  </li>`}function g(t){return t.map(b).join("")}function f(t,o){i.innerHTML="",r.innerHTML="";const n=o.split(" "),s=n.pop(),a=`<h3 class="container-category-one">${n.join(" ")+' <span class="last-word">'+s+"</span>"}</h3>`+g(t);i.innerHTML=a}function T(t){i.innerHTML="",r.innerHTML="";const o='<h2 class="container-title">Best Sellers <span>Book</span></h2>';let e="";for(const n of t)e+=`<h3 class="container-category-all">${n.list_name}</h3>`+g(n.books);r.innerHTML=o+e}async function L(t){try{const o=await h(t);f(o,t)}catch{m("Sorry, there are no books for these category! ","red","white")}}async function l(){try{const t=await k();T(t)}catch{m("Sorry, no books! ","red","white")}}function m(t,o,e){iziToast.error({position:"topRight",message:t,messageColor:e,messageSize:"16",messageLineHeight:"15",backgroundColor:o,timeout:5e3,displayMode:2,close:!0,closeOnEscape:!0,closeOnClick:!0})}async function C(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await d.get(t,{options:o})).data}const B=document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),C().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)}),l()};B.addEventListener("click",async t=>{if(t.preventDefault(),t.target.tagName==="P"){const o=t.target.textContent;L(o)}else t.target.id==="title"&&(l(),console.log(l()))});function u(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,a=e.slice(n,s);document.getElementById("shopping-list").innerHTML=a.join("<br>")}const p=3,E=new y(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:p,visiblePages:5,centerAlign:!0});E.on("beforeMove",function(t){u(t.page,p)});u(1,p);window.onscroll=function(){w()};function w(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
