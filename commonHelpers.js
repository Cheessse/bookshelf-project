import"./assets/shopping-list-62e54d54.js";import{a as c,P as m}from"./assets/vendor-edf1012f.js";async function l(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await c.get(t,{options:o})).data}const p=document.querySelector(".books-container");document.querySelector(".container-category-one");async function u(t){const o="https://books-backend.p.goit.global/books/category",e=encodeURIComponent(t),n=`${o}?category=${e}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await c.get(n,s)).data}async function y(){const t="https://books-backend.p.goit.global/books/top-books",o={method:"GET",headers:{"Content-Type":"application/json"}};return(await c.get(t,o)).data}function h(t){return`<li class="book-item" data-id="${t.id}">
  <img src="${t.book_image}" alt="${t.description}" srcset="${t.book_image}" width="335" height="535" class="book-image">
  <p class="book-title">${t.title}</p>
  <p class="book-author">${t.author}</p>
</li>`}function d(t){return t.map(h).join("")}function k(t,o){const e=`<h3 class="container-category-one">${o}</h3>`+d(t);p.innerHTML=e}function f(t,o){const e='<h2 class="container-title">Best Sellers <span>Book</span></h2>',n=`<h3 class="container-category-all">${o}</h3>`+d(t);p.innerHTML=e+n}async function b(t){try{const o=await u(t);k(o,t)}catch(o){console.error(o)}}async function a(){try{const t=await l();for(const o of t){console.log(`Category: ${o.list_name}`);const e=await y(o.list_name);f(e,o.list_name),console.log("Books:"),console.log(e)}}catch(t){console.error("Error fetching data:",t)}}const B=document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),l().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)}),a()};B.addEventListener("click",async t=>{if(t.preventDefault(),t.target.tagName==="P"){const o=t.target.textContent;b(o)}else t.target.id==="title"&&(a(),console.log(a()))});function g(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,r=e.slice(n,s);document.getElementById("shopping-list").innerHTML=r.join("<br>")}const i=3,E=new m(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:i,visiblePages:5,centerAlign:!0});E.on("beforeMove",function(t){g(t.page,i)});g(1,i);window.onscroll=function(){L()};function L(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
