import"./assets/modal-window-e1d78ca2.js";import{a as l,P as u}from"./assets/vendor-2eb9cd29.js";const r=document.querySelector(".books-container-one-cat"),i=document.querySelector(".book-item");document.querySelector("#btn-seemore");document.querySelector(".container-category-one");let c=5;async function y(t){const o="https://books-backend.p.goit.global/books/category",e=encodeURIComponent(t),n=`${o}?category=${e}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await l.get(n,s)).data}async function h(t,o){const e="https://books-backend.p.goit.global/books/top-books",n=encodeURIComponent(t),s=t?`${e}?category=${n}`:e,a={method:"GET",headers:{"Content-Type":"application/json"}};return o==="mobile"?c=1:o==="tablet"&&(c=3),(await l.get(s,a)).data.slice(0,c)}function k(t){return` <li class="book-item-img"><img src="${t.book_image}" alt="${t.description}" srcset="${t.book_image}" width="335" height="485" class="book-image">
  </li>
    <li class="book-item-title">${t.title}</li>
    <li class="book-item-author">${t.author}</li>
  </li>`}function p(t){return t.map(k).join("")}function b(t,o){r.innerHTML="",i.innerHTML="";const n=o.split(" "),s=n.pop(),a=`<h3 class="container-category-one">${n.join(" ")+' <span class="last-word">'+s+"</span>"}</h3>`+p(t);r.innerHTML=a}function f(t){r.innerHTML="",i.innerHTML="";const o='<h2 class="container-title">Best Sellers <span>Book</span></h2>';let e="";for(const n of t)e+=`<h3 class="container-category-all">${n.list_name}</h3>`+p(n.books);i.innerHTML=o+e}async function L(t){try{const o=await y(t);b(o,t)}catch{g("Sorry, there are no books for these category! ","red","white")}}async function T(){try{const t=await h();f(t)}catch{g("Sorry, no books! ","red","white")}}function g(t,o,e){iziToast.error({position:"topRight",message:t,messageColor:e,messageSize:"16",messageLineHeight:"15",backgroundColor:o,timeout:5e3,displayMode:2,close:!0,closeOnEscape:!0,closeOnClick:!0})}async function C(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await l.get(t,{options:o})).data}const B=document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),C().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)})};B.addEventListener("click",async t=>{if(t.preventDefault(),t.target.tagName==="P"){const o=t.target.textContent;L(o)}else t.target.tagName==="Li"&&T()});function m(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,a=e.slice(n,s);document.getElementById("shopping-list").innerHTML=a.join("<br>")}const d=3,E=new u(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:d,visiblePages:5,centerAlign:!0});E.on("beforeMove",function(t){m(t.page,d)});m(1,d);window.onscroll=function(){w()};function w(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
