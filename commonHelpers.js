import"./assets/shopping-list-d7e21cfd.js";import{a,P as d}from"./assets/vendor-edf1012f.js";async function i(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await a.get(t,{options:o})).data}const l=document.querySelector(".books-container");document.querySelector(".container-category-one");async function m(t){const o="https://books-backend.p.goit.global/books/category",e=encodeURIComponent(t),n=`${o}?category=${e}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await a.get(n,s)).data}async function u(){const t="https://books-backend.p.goit.global/books/top-books",o={method:"GET",headers:{"Content-Type":"application/json"}};return(await a.get(t,o)).data}function y(t){return`<li class="book-item" data-id="${t.id}">
  <img src="${t.book_image}" alt="${t.description}" srcset="${t.book_image}" width="335" height="535" class="book-image">
  <p class="book-title">${t.title}</p>
  <p class="book-author">${t.author}</p>
</li>`}function p(t){return t.map(y).join("")}function h(t,o){const e=`<h3 class="container-category-one">${o}</h3>`+p(t);l.innerHTML=e}function k(t,o){const e='<h2 class="container-title">Best Sellers <span>Book</span></h2>',n=`<h3 class="container-category-all">${o}</h3>`+p(t);l.innerHTML=e+n}async function f(t){try{const o=await m(t);h(o,t)}catch(o){console.error(o)}}async function b(){try{const t=await i();for(const o of t){console.log(`Category: ${o.list_name}`);const e=await u(o.list_name);k(e,o.list_name),console.log("Books:"),console.log(e)}}catch(t){console.error("Error fetching data:",t)}}const B=document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),i().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)})};B.addEventListener("click",async t=>{if(t.preventDefault(),t.target.tagName==="P"){const o=t.target.textContent;f(o)}else t.target.tagName==="Li"&&b()});function g(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,r=e.slice(n,s);document.getElementById("shopping-list").innerHTML=r.join("<br>")}const c=3,E=new d(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:c,visiblePages:5,centerAlign:!0});E.on("beforeMove",function(t){g(t.page,c)});g(1,c);window.onscroll=function(){L()};function L(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
