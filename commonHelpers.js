import"./assets/shopping-list-39dfb82e.js";import{a as c,P as k}from"./assets/vendor-92587dd7.js";async function y(){const e="https://books-backend.p.goit.global/books/category-list",t={method:"GET"};return(await c.get(e,{options:t})).data}async function b(e){const t="https://books-backend.p.goit.global/books/category",o={method:"GET",params:{category:e}};return(await c.get(t,{options:o})).data}async function f(){const e="https://books-backend.p.goit.global/books/top-books",t={method:"GET"};return(await c.get(e,{options:t})).data}const p=document.querySelector(".books-container"),s=document.querySelector(".container-title"),r=document.querySelector(".container-category");function h({book_image:e,title:t,author:o}){return`<ul class="book-div">
 <li class="book-img"><img src="${e}" alt=""></li>
 <li class="book-title">${t}</li>
 <li class="author">${o}</li>
</ul>`}function g(e){return e.map(h).join("")}function S({books:e,list_name:t}){const o=g(e);s.textContent="Best Sellers Books",r.textContent=`'${t}'`,s.insertAdjacentHTML("afterbegin",s.textContent),r.insertAdjacentHTML("afterbegin",r.textContent),p.insertAdjacentHTML("beforeend",o)}function B({books:e,list_name:t}){const o=g(e);s.textContent=`'${t}'`,s.insertAdjacentHTML("afterbegin",s.textContent),p.insertAdjacentHTML("beforeend",o)}const C=document.querySelector("#category-list");async function L(e){e.preventDefault(),categoryName=C.querySelectorAll("#p-list");try{const t=await b(),o=await f();t.target.list_name===categoryName?B(t):S(o)}catch(t){console.log(t)}e.target.reset()}window.onload=function(){const e=document.getElementById("category-list"),t=document.createElement("li");t.textContent="ALL CATEGORIES",t.id="title",e.appendChild(t),y().then(o=>{o.forEach(function(n){const i=document.createElement("p");i.textContent=n.list_name,i.id="p-list",i.addEventListener("click",L),e.appendChild(i)})}).catch(o=>{console.error("Error fetching data;",o)})};document.querySelector(".popup-book-image");document.querySelector(".popup-book-title");document.querySelector(".popup-book-author");document.querySelector(".popup-book-review");document.querySelector(".popup-shopping-links-icon.amazon");document.querySelector(".popup-shopping-links-icon.book");const a=document.querySelector("#add"),l=document.querySelector(".under-button-text");l.hidden=!0;a.addEventListener("click",x);function x(e){if(e.target.disabled)return;const t=e.target.attributes.id.value;a.textContent==="Add to shopping list"?I(t):E(t)}function I(e){let t=localStorage.getItem("idBooks");(t==="undefined"||!t||t==="")&&(t=[],localStorage.setItem("idBooks",JSON.stringify(t))),t=JSON.parse(localStorage.getItem("idBooks")),t.push(e),localStorage.setItem("idBooks",JSON.stringify(t)),a.textContent="Remove from the shopping list",l.hidden=!1,updateShoppingList()}function E(e){let t=JSON.parse(localStorage.getItem("idBooks"));t.splice(t.indexOf(e),1),localStorage.setItem("idBooks",JSON.stringify(t)),a.textContent="Add to shopping list",l.hidden=!0,updateShoppingList()}function u(e,t){const o=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(e-1)*t,i=n+t,m=o.slice(n,i);document.getElementById("shopping-list").innerHTML=m.join("<br>")}const d=3,q=new k(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:d,visiblePages:5,centerAlign:!0});q.on("beforeMove",function(e){u(e.page,d)});u(1,d);
//# sourceMappingURL=commonHelpers.js.map
