import"./assets/modal-window-fb62e382.js";import{a as u,i as T,P as C}from"./assets/vendor-428a2275.js";const l=document.querySelector(".books-container-one-cat"),d=document.querySelector(".book-item"),y=document.querySelector("#btn-seemore"),c=window.innerWidth;let p,i;async function S(t){const o="https://books-backend.p.goit.global/books/category",e=encodeURIComponent(t),n=`${o}?category=${e}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await u.get(n,s)).data}async function g(t,o,e){const n="https://books-backend.p.goit.global/books/top-books",s=encodeURIComponent(t),a=t?`${n}?category=${s}&limit=${e}`:`${n}?limit=${e}`,r={method:"GET",headers:{"Content-Type":"application/json"}};return o==="mobile"?i=1:o==="tablet"&&(i=3),(await u.get(a,r)).data.slice(0,i)}function I(t){return` <li class="book-item-img"><img src="${t.book_image}" alt="${t.description}" srcset="${t.book_image}" width="335" height="485" class="book-image">
  </li>
    <li class="book-item-title">${t.title}</li>
    <li class="book-item-author">${t.author}</li>
  </li>`}function k(t){return t.map(I).join("")}function $(t,o){l.innerHTML="",d.innerHTML="";const n=o.split(" "),s=n.pop(),a=`<h3 class="container-category-one">${n.join(" ")+' <span class="last-word">'+s+"</span>"}</h3>`+k(t);l.innerHTML=a}function m(t){l.innerHTML="",d.innerHTML="";const o='<h2 class="container-title">Best Sellers <span>Book</span></h2>';let e="";for(const n of t)e+=`<h3 class="container-category-all">${n.list_name}</h3>`+k(n.books);d.innerHTML=o+e}async function M(t){try{L();const o=await S(t);$(o,t)}catch{B("Sorry, there are no books for these category! ","red","white")}}async function b(t){try{let o;c>=375&&c<=767?o=1:c>=768&&c<=1279?o=3:o=5;const e=await g(t,p,o);m(e),w(t)}catch{B("Sorry, no books! ","red","white")}}function f(){y.classList.remove("hidden")}function L(){y.classList.add("hidden")}y.addEventListener("click",t=>{t.preventDefault(),w(category)});async function w(t){if(c>=375&&c<=767){f(),i++;const o=await g(t,p,i);m(o)}else if(c>=768&&c<=1279){f(),i+=2;const o=await g(t,p,i);m(o)}else L()}function B(t,o,e){T.error({position:"topRight",message:t,messageColor:e,messageSize:"16",messageLineHeight:"15",backgroundColor:o,timeout:5e3,displayMode:2,close:!0,closeOnEscape:!0,closeOnClick:!0})}async function x(){const t="https://books-backend.p.goit.global/books/category-list",o={method:"GET"};return(await u.get(t,{options:o})).data}const A=document.querySelector("#category-list");window.onload=function(){const t=document.getElementById("category-list"),o=document.createElement("li");o.textContent="ALL CATEGORIES",o.id="title",t.appendChild(o),x().then(e=>{e.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),t.appendChild(s)})}).catch(e=>{console.error("Error fetching data;",e)}),b(category)};A.addEventListener("click",async t=>{if(t.preventDefault(),t.target.tagName==="P"){const o=t.target.textContent;M(o)}else t.target.id==="title"&&b(category)});function E(t,o){const e=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(t-1)*o,s=n+o,a=e.slice(n,s);document.getElementById("shopping-list").innerHTML=a.join("<br>")}const h=3,H=new C(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:h,visiblePages:5,centerAlign:!0});H.on("beforeMove",function(t){E(t.page,h)});E(1,h);document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("loader"),o=document.getElementById("content");function e(){t.style.display="block",o.style.display="none"}function n(){t.style.display="none",o.style.display="block"}async function s(){e();try{const r=await(await fetch("https://example.com/data")).json();console.log(r)}catch(a){console.error("Error fetching data:",a)}finally{n()}}s()});window.onscroll=function(){P()};function P(){const t=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?t.style.display="block":t.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
