import{m as u,b as T,t as S,c as A}from"./assets/home-ukraine-1f9640a7.js";import{i as M}from"./assets/vendor-59c8246b.js";const d=document.querySelector(".books-container-one-cat"),i=document.querySelector(".books-container-all-cat-block"),f=document.querySelector(".books-container-all-cat-title"),l=window.innerWidth;let r;function H(e){return`<div class="book-item">
  <ul class="book-item-block" data-category="${e._id}">
    <li class="book-item-img">
      <img
        src="${e.book_image}"
        alt="${e.description}"
        srcset="${e.book_image}"
        width="335"
        height="485"
        class="book-image"
      />
      <p class="hidden-overflow">QUICK VIEW</p>
    </li>
    <li class="book-item-title">${e.title}</li>
    <li class="book-item-author">${e.author}</li>
  </ul>
</div>`}function g(e){return e.map(H).join("")}function P(e,t){d.innerHTML="",i.innerHTML="",f.innerHTML="";const s=t.split(" "),a=s.pop(),v=`<h3 class="container-category-one">${s.join(" ")+' <span class="last-word">'+a+"</span>"}</h3><div class="books-container-one-cat-block">${g(e)}</div>`;d.innerHTML=v+`<a href="#anchor">
  <button type="button" class="scroll-up hidden">UP</button>
</a>
`}function k(e){d.innerHTML="",i.innerHTML="";const t='<h2 class="container-title">Best Sellers <span>Book</span></h2>';let o="";e.forEach(s=>{o+=`<div class="cat-books-btn">
      <h3 class="container-category-all">${s.list_name}</h3>
    <div class="books-container-all-cat-block-bpt">${g(s.books)}</div>
    <button type="button" class="btn-seemore hidden" data-category="${s.list_name}">SEE MORE</button>
    </div>`}),f.innerHTML=t,i.innerHTML=o}async function b(e){try{const t=await T(e);P(t,e)}catch{B("Sorry, there are no books for these category! ","red","white")}}async function p(e){try{l>=375&&l<=767?r=1:l>=768&&l<=1157?r=3:r=5;let t=await S(e,r);t=t.map(o=>(o.books=o.books.slice(0,r),o)),k(t),C()}catch{B("Sorry, no books! ","red","white")}}function C(){r===1||r===3||r===5?$():q()}function $(){if(r<=5){const e=document.querySelectorAll(".btn-seemore");for(let t=0;t<e.length;t++)e[t].classList.remove("hidden")}}function q(){if(r>=5){const e=document.querySelectorAll(".btn-seemore");for(let t=0;t<e.length;t++)e[t].classList.add("hidden")}}async function I(e){try{let t=await b(e);moreBooks=t.map(o=>(o.books=o.books.slice(0,r),o)),k(moreBooks),C()}catch(t){console.log(t)}}i.addEventListener("click",async e=>{if(e.target&&e.target.classList.contains("btn-seemore")){e.preventDefault();const t=e.target.dataset.category;await I(t)}});i.addEventListener("click",async e=>{if(e.target.classList.contains("book-item")){e.preventDefault();const o=e.target.closest(".book-item-block").dataset.category;if(o){const s=await u(o);console.log(s)}}});d.addEventListener("click",async e=>{if(e.target.classList.contains("book-item")){e.preventDefault();const o=e.target.closest(".book-item-block").dataset.category;if(o){const s=await u(o);console.log(s)}}});function B(e,t,o){M.error({position:"topRight",message:e,messageColor:o,messageSize:"16",messageLineHeight:"15",backgroundColor:t,timeout:5e3,displayMode:2,close:!0,closeOnEscape:!0,closeOnClick:!0})}const _=document.getElementById("anchor");window.addEventListener("scroll",()=>{const e=document.querySelectorAll(".scroll-up"),t=_.getBoundingClientRect().top;e.forEach(o=>{const s=o.getBoundingClientRect().top;l>=375&&l<=767?Math.abs(t-s)<=700?o.classList.add("hidden"):o.classList.remove("hidden"):l>=768&&l<=1157?Math.abs(t-s)<=900?o.classList.add("hidden"):o.classList.remove("hidden"):o.classList.add("hidden")})});const x=document.querySelector("#category-list");let L;window.onload=function(){const e=document.getElementById("category-list"),t=document.createElement("li");t.textContent="ALL CATEGORIES",t.id="title",e.appendChild(t),A().then(o=>{o.forEach(function(s){const a=document.createElement("p");a.textContent=s.list_name,a.classList.add("p-list"),e.appendChild(a)})}).catch(o=>{console.error("Error fetching data;",o)}),p(L)};x.addEventListener("click",async e=>{if(e.preventDefault(),e.target.tagName==="P"){const t=e.target.textContent;b(t)}else e.target.id==="title"&&p(L)});const m=document.querySelector("#slider");let c=document.querySelector("#theme-style");const O=localStorage.getItem("theme"),n=document.documentElement;c||(c=document.createElement("link"),c.id="theme-style",document.head.appendChild(c));function h(e){localStorage.setItem("theme",e),c.setAttribute("href",`./css/${e}.css`)}function y(e){n.style.setProperty("--header-color",e.headerColor),n.style.setProperty("--body-color",e.bodyColor),n.style.setProperty("--yellow",e.yellow),n.style.setProperty("--violet",e.violet),n.style.setProperty("--font-color",e.fontColor),n.style.setProperty("--header-border-color",e.headerBorderColor),n.style.setProperty("--modal-body-color",e.modalBodyColor),n.style.setProperty("--all-categories-title-and-hover",e.allCategoriesTitleAndHover)}function R(){m.checked?(h("styles-light-theme"),y(E)):(h("styles-dark-theme"),y(w))}m.addEventListener("change",R);const E={headerColor:"#fff",bodyColor:"#e0e0e0",yellow:"#eac645",violet:"#4f2ee8",fontColor:"#111",headerBorderColor:"#111",modalBodyColor:"#fff",allCategoriesTitleAndHover:"#4f2ee8"},w={headerColor:"#111",bodyColor:"#202024",yellow:"#eac645",violet:"#4f2ee8",fontColor:"#ffffff",headerBorderColor:"#fff",modalBodyColor:"#202024",allCategoriesTitleAndHover:"#eac645"};function D(){O==="styles-dark-theme"?(h("styles-dark-theme"),y(w),m.checked=!1):(h("styles-light-theme"),y(E),m.checked=!0)}D();
//# sourceMappingURL=commonHelpers.js.map
