import"./assets/modal-window-050bcce0.js";import{a as g,i as E,P as T}from"./assets/vendor-428a2275.js";async function u(){const e="https://books-backend.p.goit.global/books/category-list",t={method:"GET"};return(await g.get(e,{options:t})).data}const d=document.querySelector(".books-container-one-cat"),m=document.querySelector(".book-item"),h=document.querySelector("#btn-seemore"),c=window.innerWidth;async function w(e){const t="https://books-backend.p.goit.global/books/category",o=encodeURIComponent(e),n=`${t}?category=${o}`,s={method:"GET",headers:{"Content-Type":"application/json"}};return(await g.get(n,s)).data}async function C(e,t){const o="https://books-backend.p.goit.global/books/top-books",n=encodeURIComponent(e);let s;t?s=`${o}?category=${n}&limit=${t}`:s=`${o}?category=${n}`;const a={method:"GET",headers:{"Content-Type":"application/json"}};return(await g.get(s,a)).data}function S(e){return` <li class="book-item-img"><img src="${e.book_image}" alt="${e.description}" srcset="${e.book_image}" width="335" height="485" class="book-image">
  </li>
    <li class="book-item-title">${e.title}</li>
    <li class="book-item-author">${e.author}</li>
  </li>`}function y(e){return e.map(t=>S(t)).join("")}function I(e,t){d.innerHTML="",m.innerHTML="";const n=t.split(" "),s=n.pop(),a=`<h3 class="container-category-one">${n.join(" ")+' <span class="last-word">'+s+"</span>"}</h3>`+y(e);d.innerHTML=a}function $(e){d.innerHTML="",m.innerHTML="";const t='<h2 class="container-title">Best Sellers <span>Book</span></h2>';let o="";e.forEach(n=>{o+=`<h3 class="container-category-all">${n.category}</h3>`+y(n.books)}),m.innerHTML=t+o}async function M(e){try{x();const t=await w(e);I(t,e)}catch{f("Sorry, there are no books for these category! ","red","white")}}async function k(e){try{let t;if(c>=375&&c<=767)t=1;else if(c>=768&&c<=1279)t=3;else{t=5;return}const n=(await u(e)).map(async a=>{const B=(await C(a.list_name,t)).slice(0,t);return{category:a.list_name,books:B}}),s=await Promise.all(n);$(s)}catch{f("Sorry, no books! ","red","white")}}function x(){h.classList.add("hidden")}h.addEventListener("click",e=>{e.preventDefault(),P()});async function P(e){}function f(e,t,o){E.error({position:"topRight",message:e,messageColor:o,messageSize:"16",messageLineHeight:"15",backgroundColor:t,timeout:5e3,displayMode:2,close:!0,closeOnEscape:!0,closeOnClick:!0})}const A=document.querySelector("#category-list");let b;window.onload=function(){const e=document.getElementById("category-list"),t=document.createElement("li");t.textContent="ALL CATEGORIES",t.id="title",e.appendChild(t),u().then(o=>{o.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.classList.add("p-list"),e.appendChild(s)})}).catch(o=>{console.error("Error fetching data;",o)}),k(b)};A.addEventListener("click",async e=>{if(e.preventDefault(),e.target.tagName==="P"){const t=e.target.textContent;M(t)}else e.target.id==="title"&&k(b)});function L(e,t){const o=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(e-1)*t,s=n+t,a=o.slice(n,s);document.getElementById("shopping-list").innerHTML=a.join("<br>")}const p=3,H=new T(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:p,visiblePages:5,centerAlign:!0});H.on("beforeMove",function(e){L(e.page,p)});L(1,p);document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("loader"),t=document.getElementById("content");function o(){e.style.display="block",t.style.display="none"}function n(){e.style.display="none",t.style.display="block"}async function s(){o();try{const l=await(await fetch("https://example.com/data")).json();console.log(l)}catch(a){console.error("Error fetching data:",a)}finally{n()}}s()});window.onscroll=function(){R()};function R(){const e=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"}const i=document.querySelector("#slider");function r(e){localStorage.setItem("theme",e),document.documentElement.className=e}function _(){i.checked?r("theme-light"):r("theme-dark")}i.addEventListener("change",_);function j(){localStorage.getItem("theme")==="theme-dark"?(r("theme-dark"),i.checked=!1):(r("theme-light"),i.checked=!0)}j();
//# sourceMappingURL=commonHelpers.js.map
