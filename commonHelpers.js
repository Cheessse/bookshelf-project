import"./assets/shopping-list-76a2deef.js";import{a as r,P as k}from"./assets/vendor-92587dd7.js";async function y(){const e="https://books-backend.p.goit.global/books/category-list",t={method:"GET"};return(await r.get(e,{options:t})).data}async function b(e){const t="https://books-backend.p.goit.global/books/category",o={method:"GET",params:{category:e}};return(await r.get(t,{options:o})).data}async function f(){const e="https://books-backend.p.goit.global/books/top-books",t={method:"GET"};return(await r.get(e,{options:t})).data}const p=document.querySelector(".books-container"),i=document.querySelector(".container-title"),c=document.querySelector(".container-category");function h({book_image:e,title:t,author:o}){return`<ul class="book-div">
 <li class="book-img"><img src="${e}" alt=""></li>
 <li class="book-title">${t}</li>
 <li class="author">${o}</li>
</ul>`}function u(e){return e.map(h).join("")}function S({books:e,list_name:t}){const o=u(e);i.textContent="Best Sellers Books",c.textContent=`'${t}'`,i.insertAdjacentHTML("afterbegin",i.textContent),c.insertAdjacentHTML("afterbegin",c.textContent),p.insertAdjacentHTML("beforeend",o)}function B({books:e,list_name:t}){const o=u(e);i.textContent=`'${t}'`,i.insertAdjacentHTML("afterbegin",i.textContent),p.insertAdjacentHTML("beforeend",o)}const C=document.querySelector("#category-list");async function L(e){e.preventDefault(),categoryName=C.querySelectorAll("#p-list");try{const t=await b(),o=await f();t.target.list_name===categoryName?B(t):S(o)}catch(t){console.log(t)}e.target.reset()}window.onload=function(){const e=document.getElementById("category-list"),t=document.createElement("li");t.textContent="ALL CATEGORIES",t.id="title",e.appendChild(t),y().then(o=>{o.forEach(function(n){const s=document.createElement("p");s.textContent=n.list_name,s.id="p-list",s.addEventListener("click",L),e.appendChild(s)})}).catch(o=>{console.error("Error fetching data;",o)})};document.querySelector(".popup-book-image");document.querySelector(".popup-book-title");document.querySelector(".popup-book-author");document.querySelector(".popup-book-review");document.querySelector(".popup-shopping-links-icon.amazon");document.querySelector(".popup-shopping-links-icon.book");const a=document.querySelector("#add"),l=document.querySelector(".under-button-text");l.hidden=!0;a.addEventListener("click",T);function T(e){if(e.target.disabled)return;const t=e.target.attributes.id.value;a.textContent==="Add to shopping list"?I(t):x(t)}function I(e){let t=localStorage.getItem("idBooks");(t==="undefined"||!t||t==="")&&(t=[],localStorage.setItem("idBooks",JSON.stringify(t))),t=JSON.parse(localStorage.getItem("idBooks")),t.push(e),localStorage.setItem("idBooks",JSON.stringify(t)),a.textContent="Remove from the shopping list",l.hidden=!1,updateShoppingList()}function x(e){let t=JSON.parse(localStorage.getItem("idBooks"));t.splice(t.indexOf(e),1),localStorage.setItem("idBooks",JSON.stringify(t)),a.textContent="Add to shopping list",l.hidden=!0,updateShoppingList()}function g(e,t){const o=JSON.parse(localStorage.getItem("shoppingList"))||[],n=(e-1)*t,s=n+t,m=o.slice(n,s);document.getElementById("shopping-list").innerHTML=m.join("<br>")}const d=3,E=new k(document.getElementById("pagination"),{totalItems:JSON.parse(localStorage.getItem("shoppingList")).length,itemsPerPage:d,visiblePages:5,centerAlign:!0});E.on("beforeMove",function(e){g(e.page,d)});g(1,d);window.onscroll=function(){q()};function q(){const e=document.getElementById("scrollToTopBtn");document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"}
//# sourceMappingURL=commonHelpers.js.map
