{"version":3,"file":"commonHelpers.js","sources":["../src/books API/books-api.js","../src/js/open-close-modal.js","../src/js/modal-window.js","../src/js/home-books.js","../src/js/home-menu.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE = 'https://books-backend.p.goit.global/books';\n\nexport async function categoryList() {\n  const URL = 'https://books-backend.p.goit.global/books/category-list';\n\n  const options = {\n    method: 'GET',\n  };\n\n  const res = await axios.get(URL, { options });\n  return res.data;\n}\n\n// export async function booksId() {\n//   const URL = 'https://books-backend.p.goit.global/books/{id}';\n\n//   const options = {\n//     method: 'GET',\n//   };\n\n//   const res = await axios.get(URL, { options });\n//   return res.data;\n// }\n\nexport async function booksId(bookId) {\n  bookId = bookId.trim();\n  const URL = `${BASE}/${bookId}`;\n  const response = await axios.get(URL);\n  return response.data;\n}\n\nexport async function booksByCategory(selectedCategory) {\n  const BASE_URL = 'https://books-backend.p.goit.global/books/category';\n  const encodeCat = encodeURIComponent(selectedCategory);\n  const url = `${BASE_URL}?category=${encodeCat}`;\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  const res = await axios.get(url, options);\n  return res.data;\n}\n\nexport async function topBooks(category, limit) {\n  const BASE_URL = 'https://books-backend.p.goit.global/books/top-books';\n  const encodeCat = encodeURIComponent(category);\n  let url;\n  if (limit) {\n    url = `${BASE_URL}?category=${encodeCat}&limit=${limit}`;\n  } else {\n    url = `${BASE_URL}?category=${encodeCat}`;\n  }\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  const res = await axios.get(url, options);\n  return res.data;\n}\n\n// ==================================================\n\n// export async function getCategories() {\n//   const URL = `${BASE}/category-list`;\n//   const response = await axios.get(URL);\n//   return response.data;\n// }\n\n// export async function getPopularBooks() {\n//   const URL = `${BASE}/top-books`;\n//   const response = await axios.get(URL);\n//   return response.data;\n// }\n\n// export async function getBooksByCategory(selectedCategory) {\n//   selectedCategory = selectedCategory.trim();\n//   const params = { category: selectedCategory };\n//   const URL = `${BASE}/category`;\n//   const response = await axios.get(URL, { params });\n//   return response.data;\n// }\n","export function openAndCloseModal() {\n    const backdrop = document.querySelector('.about-book-backdrop');\n    backdrop.classList.add('is-active');\n    document.body.classList.add('no-scroll');\n\n    backdrop.addEventListener('click', closeModalByClicking);\n    document.body.addEventListener('keyup', closeModalByKey);\n}\n\nfunction closeModalByClicking(e) {\n    const backdrop = document.querySelector('.about-book-backdrop');\n    const modalWindow = document.querySelector('.about-book-window');\n    const closeBtn = document.querySelector('.about-book-close-btn');\n    const isCloseBtnClicked = e.target.closest('[data-modal-close]') === closeBtn;\n\n    if (!modalWindow.contains(e.target) || isCloseBtnClicked) {\n        backdrop.classList.remove('is-active');\n        document.body.classList.remove('no-scroll');\n\n        backdrop.removeEventListener('click', closeModalByClicking);\n        document.body.removeEventListener('keyup', closeModalByKey);\n    }\n}\n\nfunction closeModalByKey(e) {\n    const backdrop = document.querySelector('.about-book-backdrop');\n    const key = e.key || e.keyCode;\n\n    if (key === 'Escape' || key === 'Esc') {\n        backdrop.classList.remove('is-active');\n        document.body.classList.remove('no-scroll');\n\n        backdrop.removeEventListener('click', closeModalByClicking);\n        document.body.removeEventListener('keyup', closeModalByKey);\n    }\n}\n\n","import { booksId } from '../books API/books-api';\nimport iziToast from 'izitoast';\nimport { openAndCloseModal } from './open-close-modal';\n\nconst bookIMG = document.querySelector('.popup-book-image');\nconst bookTitle = document.querySelector('.popup-book-title');\nconst bookAuthor = document.querySelector('.popup-book-author');\nconst bookReview = document.querySelector('.popup-book-review');\nconst linkAmazon = document.querySelector('.popup-shopping-links-icon.amazon');\nconst linkBook = document.querySelector('.popup-shopping-links-icon.book');\nconst btn = document.querySelector('.modal-btn-add-to-shopinglist');\nconst addMessage = document.querySelector('.under-button-text');\naddMessage.hidden = true;\n\nbtn.addEventListener('click', addOrRemoveBook);\n\nexport async function modalAboutBook(bookId) {\n  try {\n    const book = await booksId(bookId);\n\n    checkLocalStorage(book);\n\n    bookIMG.attributes.src.value = book.book_image;\n    bookTitle.textContent = book.title;\n    bookAuthor.textContent = book.author;\n    bookReview.textContent = book.description;\n    linkAmazon.attributes.href.value = book.buy_links[0].url;\n    linkBook.attributes.href.value = book.buy_links[1].url;\n\n    openAndCloseModal();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: `Books was not found : ${error.message}`,\n    });\n  }\n}\n\nexport function addOrRemoveBook(e) {\n  if (e.target.disabled) {\n    return;\n  }\n  const id = e.target.attributes.id.value;\n  if (btn.textContent === 'Add to shopping list') {\n    addBook(id);\n  } else {\n    removeBook(id);\n  }\n}\n\nexport function addBook(id) {\n  let idBooks = localStorage.getItem('idBooks');\n\n  if (idBooks === 'undefined' || !idBooks || idBooks === '') {\n    idBooks = [];\n    localStorage.setItem('idBooks', JSON.stringify(idBooks));\n  }\n\n  idBooks = JSON.parse(localStorage.getItem('idBooks'));\n\n  idBooks.push(id);\n  localStorage.setItem('idBooks', JSON.stringify(idBooks));\n  btn.textContent = 'Remove from the shopping list';\n  addMessage.hidden = true;\n\n}\n\nexport function removeBook(id) {\n  let idBooks = JSON.parse(localStorage.getItem('idBooks'));\n\n  idBooks.splice(idBooks.indexOf(id), 1);\n  localStorage.setItem('idBooks', JSON.stringify(idBooks));\n  btn.textContent = 'Add to shopping list';\n  addMessage.hidden = true;\n}\n\nexport function checkLocalStorage(book) {\n  let contantLS = localStorage.getItem('idBooks');\n\n  if (!contantLS || contantLS === '' || !contantLS.includes(book._id)) {\n    btn.textContent = 'Add to shopping list';\n  } else {\n    btn.textContent = 'Remove from the shopping list';\n    addMessage.hidden = true;\n  }\n  btn.attributes.id.value = book._id;\n}\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { booksByCategory, topBooks } from '../books API/books-api';\nimport { modalAboutBook } from './modal-window';\n\nconst booksContainerOne = document.querySelector('.books-container-one-cat');\nconst booksContainerAll = document.querySelector(\n  '.books-container-all-cat-block'\n);\nconst booksContainerAllTit = document.querySelector(\n  '.books-container-all-cat-title'\n);\n\nconst screenWidth = window.innerWidth;\nlet limit;\n\nfunction templateBook(book) {\n  return `<div class=\"book-item\">\n  <ul class=\"book-item-block\" data-category=\"${book._id}\">\n    <li class=\"book-item-img\">\n      <img\n        src=\"${book.book_image}\"\n        alt=\"${book.description}\"\n        srcset=\"${book.book_image}\"\n        width=\"335\"\n        height=\"485\"\n        class=\"book-image\"\n      />\n      <p class=\"hidden-overflow\">QUICK VIEW</p>\n    </li>\n    <li class=\"book-item-title\">${book.title}</li>\n    <li class=\"book-item-author\">${book.author}</li>\n  </ul>\n</div>`;\n}\n\nfunction templateBooks(books) {\n  return books.map(templateBook).join('');\n}\n\nfunction renderBooks(books, category) {\n  booksContainerOne.innerHTML = '';\n  booksContainerAll.innerHTML = '';\n  booksContainerAllTit.innerHTML = '';\n\n  const categoryText = category;\n  const words = categoryText.split(' ');\n  const lastWord = words.pop();\n  const markup =\n    `<h3 class=\"container-category-one\">${\n      words.join(' ') + ' <span class=\"last-word\">' + lastWord + '</span>'\n    }</h3>` +\n    `<div class=\"books-container-one-cat-block\">${templateBooks(books)}</div>`;\n\n  booksContainerOne.innerHTML =\n    markup +\n    `<a href=\"#anchor-books\">\n  <button type=\"button\" class=\"scroll-up hidden\">UP</button>\n</a>\n` +\n    `<a href=\"#goback\" >\n    <button type=\"button\" class=\"back-to-all-cat\">GO BACK</button> \n</a>\n`;\n}\n\nfunction renderBooksAll(categories) {\n  booksContainerOne.innerHTML = '';\n  booksContainerAll.innerHTML = '';\n\n  const title = `<h2 class=\"container-title\">Best Sellers <span>Book</span></h2>`;\n  let markup = '';\n\n  categories.forEach(category => {\n    markup += `<div class=\"cat-books-btn\">\n      <h3 class=\"container-category-all\">${category.list_name}</h3>\n    <div class=\"books-container-all-cat-block-bpt\">${templateBooks(\n      category.books\n    )}</div>\n    <button type=\"button\" class=\"btn-seemore hidden\" data-category=\"${\n      category.list_name\n    }\">SEE MORE</button>\n    </div>`;\n  });\n  booksContainerAllTit.innerHTML = title;\n  booksContainerAll.innerHTML = markup;\n}\n\nexport async function loadBooks(selectedCategory) {\n  try {\n    const data = await booksByCategory(selectedCategory);\n    renderBooks(data, selectedCategory);\n  } catch (error) {\n    showError('Sorry, there are no books for these category! ', 'red', 'white');\n  }\n}\n\nexport async function loadBooksAllCat(category) {\n  try {\n    if (screenWidth >= 375 && screenWidth <= 767) {\n      limit = 1;\n    } else if (screenWidth >= 768 && screenWidth <= 1157) {\n      limit = 3;\n    } else {\n      limit = 5;\n    }\n    let topBookList = await topBooks(category, limit);\n    topBookList = topBookList.map(el => {\n      el.books = el.books.slice(0, limit);\n      return el;\n    });\n    renderBooksAll(topBookList);\n    visibBtn();\n  } catch (error) {\n    showError('Sorry, no books! ', 'red', 'white');\n  }\n}\n\nfunction visibBtn() {\n  if (limit === 1 || limit === 3 || limit === 5) {\n    showBtn();\n  } else {\n    hideBtn();\n  }\n}\n\nfunction showBtn() {\n  if (limit <= 5) {\n    const btnSeemore = document.querySelectorAll('.btn-seemore');\n    for (let i = 0; i < btnSeemore.length; i++) {\n      btnSeemore[i].classList.remove('hidden');\n    }\n  }\n}\n\nfunction hideBtn() {\n  if (limit >= 5) {\n    const btnSeemore = document.querySelectorAll('.btn-seemore');\n    for (let i = 0; i < btnSeemore.length; i++) {\n      btnSeemore[i].classList.add('hidden');\n    }\n  }\n}\n\nasync function showMoreBooks(selectedCategory) {\n  try {\n    let moreBooksBycat = await loadBooks(selectedCategory);\n    moreBooks = moreBooksBycat.map(el => {\n      el.books = el.books.slice(0, limit);\n      return el;\n    });\n    renderBooksAll(moreBooks);\n    visibBtn();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nbooksContainerAll.addEventListener('click', async event => {\n  if (event.target && event.target.classList.contains('btn-seemore')) {\n    event.preventDefault();\n    const categoryFromButton = event.target.dataset.category;\n    await showMoreBooks(categoryFromButton);\n  }\n});\n\n// ==============////////MODAL LISTENERS//////////===============\n\nbooksContainerAll.addEventListener('click', async event => {\n  if (event.target.closest('.book-item')) {\n    event.preventDefault();\n    const currentElem = event.target.closest('.book-item-block');\n    const bookId = currentElem.dataset.category;\n    if (bookId) {\n      const result = await modalAboutBook(bookId);\n      console.log(result);\n    }\n  }\n});\n\nbooksContainerOne.addEventListener('click', async event => {\n  event.preventDefault();\n  if (event.target.closest('.book-item')) {\n    const currentElem = event.target.closest('.book-item-block');\n    const bookId = currentElem.dataset.category;\n    if (bookId) {\n      const result = await modalAboutBook(bookId);\n      console.log(result);\n    }\n  }\n});\n\n// ==============////////IZI//////////===============\n\nfunction showError(text, bgColor, txtColor) {\n  iziToast.error({\n    position: 'topRight',\n    message: text,\n    messageColor: txtColor,\n    messageSize: '16',\n    messageLineHeight: '15',\n    backgroundColor: bgColor,\n    timeout: 5000,\n    displayMode: 2,\n    close: true,\n    closeOnEscape: true,\n    closeOnClick: true,\n  });\n}\n\n// ==============////////SCROLL//////////===============\n\nconst anchor = document.getElementById('anchor-books');\n\nwindow.addEventListener('scroll', () => {\n  const scrollButtons = document.querySelectorAll('.scroll-up');\n  const anchorPosition = anchor.getBoundingClientRect().top;\n  const screenHeight = window.innerHeight;\n\n  scrollButtons.forEach(button => {\n    const buttonPosition = button.getBoundingClientRect().bottom;\n    const buttonVisibilityThreshold = screenHeight * 0.9;\n\n    if (\n      Math.abs(anchorPosition - buttonPosition) <= buttonVisibilityThreshold\n    ) {\n      button.classList.add('hidden');\n    } else {\n      button.classList.remove('hidden');\n    }\n  });\n});\n\n\n","import { categoryList } from '../books API/books-api';\nimport { loadBooks } from './home-books';\nimport { loadBooksAllCat } from './home-books';\n\nconst categoryBlock = document.querySelector('#category-list');\nlet category;\nwindow.onload = function () {\n    const myCategoryList = document.getElementById('category-list');\n    const title = document.createElement('li');\n    title.textContent = 'ALL CATEGORIES';\n    title.id = 'title';\n    myCategoryList.appendChild(title);\n    categoryList()\n        .then(categories => {\n            categories.forEach(function (category) {\n                const paragraph = document.createElement('p'); // создаем <p> для кажд элем списка\n                paragraph.textContent = category.list_name;\n                paragraph.classList.add('p-list');\n                myCategoryList.appendChild(paragraph);\n            });\n            // смена стиля при hover на '.p-list'\n            let pListElements = document.querySelectorAll('.p-list');\n            let titleElement = document.querySelector('#title');\n            pListElements.forEach((pElement) => {\n                pElement.addEventListener('mouseover', function () {\n                    titleElement.style.fontWeight = '400';\n                    titleElement.style.fontSize = '16px';\n                    titleElement.style.lineHeight = '112%';\n                    titleElement.style.letterSpacing = '-0.02em';\n                    titleElement.style.color = 'var(--all-categories-list-text)';\n                });\n                //Возврат #title к исходным значениям\n                pElement.addEventListener('mouseout', function () {\n                    titleElement.style.fontWeight = '700';\n                    titleElement.style.fontSize = '18px';\n                    titleElement.style.lineHeight = '133%';\n                    titleElement.style.letterSpacing = '-0.02em';\n                    titleElement.style.color = 'var(--all-categories-title-and-hover)';\n                });\n            });\n        })\n        .catch(error => {\n            console.error('Error fetching data;', error);\n        });\n    loadBooksAllCat(category);\n\n};\n\ncategoryBlock.addEventListener('click', async event => {\n    event.preventDefault();\n    if (event.target.tagName === 'P') {\n        const selectedCategory = event.target.textContent;\n        loadBooks(selectedCategory);\n    } else if (event.target.id === 'title') {\n        loadBooksAllCat(category);\n    }\n});"],"names":["BASE","categoryList","URL","options","axios","booksId","bookId","booksByCategory","selectedCategory","BASE_URL","encodeCat","url","topBooks","category","limit","openAndCloseModal","backdrop","closeModalByClicking","closeModalByKey","e","modalWindow","closeBtn","isCloseBtnClicked","key","bookIMG","bookTitle","bookAuthor","bookReview","linkAmazon","linkBook","btn","addMessage","addOrRemoveBook","modalAboutBook","book","checkLocalStorage","error","iziToast","id","addBook","removeBook","idBooks","contantLS","booksContainerOne","booksContainerAll","booksContainerAllTit","screenWidth","templateBook","templateBooks","books","renderBooks","words","lastWord","markup","renderBooksAll","categories","title","loadBooks","data","showError","loadBooksAllCat","topBookList","el","visibBtn","showBtn","hideBtn","btnSeemore","i","showMoreBooks","moreBooksBycat","event","categoryFromButton","result","text","bgColor","txtColor","anchor","scrollButtons","anchorPosition","screenHeight","button","buttonPosition","buttonVisibilityThreshold","categoryBlock","myCategoryList","paragraph","pListElements","titleElement","pElement"],"mappings":"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"}