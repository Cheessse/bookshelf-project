{"version":3,"file":"commonHelpers.js","sources":["../src/books API/books-api.js","../src/js/home-books.js","../src/js/home-menu.js","../src/js/pagination.js","../src/js/scroll-up.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function categoryList() {\n  const URL = 'https://books-backend.p.goit.global/books/category-list';\n\n  const options = {\n    method: 'GET',\n  };\n\n  const res = await axios.get(URL, { options });\n  return res.data;\n}\n\nexport async function booksByCategory(category) {\n  const URL = 'https://books-backend.p.goit.global/books/category';\n\n  const options = {\n    method: 'GET',\n    params: {\n      category: category,\n    },\n  };\n\n  const res = await axios.get(URL, { options });\n  return res.data;\n}\n\nexport async function topBooks() {\n  const URL = 'https://books-backend.p.goit.global/books/top-books';\n\n  const options = {\n    method: 'GET',\n  };\n\n  const res = await axios.get(URL, { options });\n  return res.data;\n}\n\nexport async function booksId() {\n  const URL = 'https://books-backend.p.goit.global/books/{id}';\n\n  const options = {\n    method: 'GET',\n  };\n\n  const res = await axios.get(URL, { options });\n  return res.data;\n}\n","import axios from 'axios';\nimport { categoryList } from '../books API/books-api';\n\nconst booksContainer = document.querySelector('.books-container');\nconst categoryOne = document.querySelector('.container-category-one');\n\nlet page;\n\nasync function booksByCategory(selectedCategory) {\n  const BASE_URL = 'https://books-backend.p.goit.global/books/category';\n  const encodeCat = encodeURIComponent(selectedCategory);\n  const url = `${BASE_URL}?category=${encodeCat}`;\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n  const res = await axios.get(url, options);\n  return res.data;\n}\n\nasync function topBooks() {\n  const BASE_URL = 'https://books-backend.p.goit.global/books/top-books';\n\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  const res = await axios.get(BASE_URL, options);\n  return res.data;\n};\n\nfunction templateBook(book) {\n  return `<li class=\"book-item\" data-id=\"${book.id}\">\n  <img src=\"${book.book_image}\" alt=\"${book.description}\" srcset=\"${book.book_image}\" width=\"335\" height=\"535\" class=\"book-image\">\n  <p class=\"book-title\">${book.title}</p>\n  <p class=\"book-author\">${book.author}</p>\n</li>`;\n};\n\nfunction templateBooks(books) {\n  return books.map(templateBook).join('');\n};\n\nfunction renderBooks(books, category) {\n  const markup = `<h3 class=\"container-category-one\">${category}</h3>`+ templateBooks(books);\n  booksContainer.innerHTML = markup;\n};\n\nfunction renderBooksAll(books, category) {\n  const title=`<h2 class=\"container-title\">Best Sellers <span>Book</span></h2>`;\n  const markup = `<h3 class=\"container-category-all\">${category}</h3>`+ templateBooks(books);\n  booksContainer.innerHTML= title + markup;\n};\n\nexport async function loadBooks(selectedCategory) {\n  try {\n    const data = await booksByCategory(selectedCategory);\n    renderBooks(data, selectedCategory);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nexport async function loadBooksAllCat() {\n  try {\n    const categories = await categoryList();\n    for (const category of categories) {\n      console.log(`Category: ${category.list_name}`);\n      const data = await topBooks(category.list_name);\n      renderBooksAll(data, category.list_name);\n      console.log('Books:');\n      console.log(data);\n    }\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  }\n};\n","\n// import { categoryList } from '../books API/books-api';\n// import { loadBooks } from './home-books';\n// const categoryBlock = document.querySelector(\"#category-list\");\n// export default categoryBlock;\n\n// window.onload = function () {\n//     const myCategoryList = document.getElementById(\"category-list\");\n//     const title = document.createElement('li');\n//     title.textContent = \"ALL CATEGORIES\";\n//     title.id = \"title\";\n//     myCategoryList.appendChild(title);\n//     categoryList().then(categories => {\n//         categories.forEach(function (category) {\n//             const paragraph = document.createElement('p'); // создаем <p> для кажд элем списка\n//             paragraph.textContent = category.list_name;\n//             paragraph.id = \"p-list\";\n//             paragraph.addEventListener('click', loadBooks); //Вызываем функцию loadBooks при клике на элемент\n//             myCategoryList.appendChild(paragraph);\n//         });\n//     }).catch(error => {\n//         console.error('Error fetching data;', error);\n//     });\n// };\n// ! ============================================================================================================*/\n\nimport { categoryList } from '../books API/books-api';\nimport { loadBooks } from './home-books';\nimport { loadBooksAllCat } from './home-books';\n\nconst categoryBlock = document.querySelector('#category-list');\n\nwindow.onload = function () {\n    const myCategoryList = document.getElementById('category-list');\n    const title = document.createElement('li');\n    title.textContent = 'ALL CATEGORIES';\n    title.id = 'title';\n    myCategoryList.appendChild(title);\n    categoryList()\n        .then(categories => {\n            categories.forEach(function (category) {\n                const paragraph = document.createElement('p'); // создаем <p> для кажд элем списка\n                paragraph.textContent = category.list_name;\n                paragraph.classList.add('p-list');\n                myCategoryList.appendChild(paragraph);\n            });\n        })\n        .catch(error => {\n            console.error('Error fetching data;', error);\n        });\n    loadBooksAllCat();\n};\n\ncategoryBlock.addEventListener('click', async event => {\n    event.preventDefault();\n    if (event.target.tagName === 'P') {\n        const selectedCategory = event.target.textContent;\n        loadBooks(selectedCategory);\n    } else if (event.target.id === 'title') {\n        loadBooksAllCat();\n        console.log(loadBooksAllCat());\n    }\n});","import Pagination from 'tui-pagination';\n\nfunction displayShoppingList(pageNumber, itemsPerPage) {\n    const shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n    const startIndex = (pageNumber - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    const currentPageItems = shoppingList.slice(startIndex, endIndex);\n    \n    document.getElementById('shopping-list').innerHTML = currentPageItems.join('<br>');\n}\n\nconst itemsPerPage = 3;\n\nconst pagination = new Pagination(document.getElementById('pagination'), {\n    totalItems: JSON.parse(localStorage.getItem('shoppingList')).length,\n    itemsPerPage: itemsPerPage,\n    visiblePages: 5,\n    centerAlign: true\n});\n\npagination.on('beforeMove', function (eventData) {\n    displayShoppingList(eventData.page, itemsPerPage);\n});\n\ndisplayShoppingList(1, itemsPerPage);\n","window.onscroll = function() {scrollFunction()};\n\nfunction scrollFunction() {\n    const scrollToTopBtn = document.getElementById(\"scrollToTopBtn\");\n    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n        scrollToTopBtn.style.display = \"block\";\n    } else {\n        scrollToTopBtn.style.display = \"none\";\n    }\n}\n\nfunction scrollToTop() {\n    document.body.scrollTop = 0; \n    document.documentElement.scrollTop = 0; \n}\n"],"names":["categoryList","URL","options","axios","booksContainer","booksByCategory","selectedCategory","BASE_URL","encodeCat","url","topBooks","templateBook","book","templateBooks","books","renderBooks","category","markup","renderBooksAll","title","loadBooks","data","error","loadBooksAllCat","categories","categoryBlock","myCategoryList","paragraph","event","displayShoppingList","pageNumber","itemsPerPage","shoppingList","startIndex","endIndex","currentPageItems","pagination","Pagination","eventData","scrollFunction","scrollToTopBtn"],"mappings":"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"}